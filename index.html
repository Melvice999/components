<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Melvin's Components</title>
    <link rel="shortcut icon" href="favico/favico.png" type="image/x-icon" />

    <!-- catamaran font cdn -->
    <link href="https://fonts.cdnfonts.com/css/catamaran" rel="stylesheet" />

    <style>
      body {
        margin: 0;
      }
      /* navbar */
      * {
        font-family: catamaran;
      }
      .navbar {
        display: flex;
        justify-content: end;
        align-items: center;
        background-color: lightgray;
        padding: 20px 20px;
      }
      .navbar.on {
        background-color: darkslategrey;
      }
      /* toggle */
      .input {
        visibility: hidden;
      }
      .label {
        position: absolute;
        width: 60px;
        height: 30px;
        background-color: rgb(185, 172, 172);
        border-radius: 20px;
        cursor: pointer;
      }
      .circle {
        width: 26px;
        background-color: white;
        height: 26px;
        border-radius: 50%;
        top: 2px;
        position: absolute;
        left: 2px;
        animation: toggleOff 0.4s linear forwards;
      }
      .input:checked + .label {
        background-color: white;
      }
      .input:checked + .label .circle {
        animation: toggleOn 0.4s linear forwards;
        background-color: black;
      }

      @keyframes toggleOn {
        0% {
          transform: translateX(0);
        }
        100% {
          transform: translateX(30px);
        }
      }
      @keyframes toggleOff {
        0% {
          transform: translateX(30px);
        }
        100% {
          transform: translateX(0);
        }
      }

      /* content */
      .content a {
        color: black;
        text-decoration: none;
      }
      .content li {
        list-style: none;
      }
      .ul {
        text-align: center;
      }

      /* content dark on */
      .content.on a {
        color: white;
        text-decoration: none;
      }
      .content.on h5 {
        color: white;
      }
      .footer {
        transform: translateY(100%);
        font-family: "Gill Sans", "Gill Sans MT", "Trebuchet MS";
        text-align: center;
        padding: 30px 30px;
        background-color: aquamarine;
      }
      .content.on .footer {
        color: white;
        background-color: darkslategrey;
      }
    </style>
  </head>

  <body>
    <div class="navbar">
      <input type="checkbox" id="dark-mode" class="input" />
      <label for="dark-mode" class="label">
        <div class="circle"></div>
      </label>
    </div>

    <div class="content">
      <ul class="ul">
        <li><h5>D</h5></li>
        <li><a href="dark-mode-toggle/index.html">Dark Mode Toggle</a></li>
        <li><h5>S</h5></li>
        <li><a href="search-animated/index.html">Search Animated</a></li>
        <br />
        <li><a href="step-progress-bar/index.html">Step Progress Bar</a></li>
        <li><h5>T</h5></li>
        <li><a href="to-do-list/index.html">Todo List</a></li>
      </ul>

      <div class="row" style="height: 1000px"></div>

      <div class="footer">
        Copyright 2023. &nbsp; Vice Computing Laboratories Co.Ltd.
      </div>
    </div>

    <script>
      const inputEl = document.querySelector(".input");
      const bodyEl = document.querySelector("body");
      const contentEl = document.querySelector(".content");
      const navbarEl = document.querySelector(".navbar");

      // default toggle
      inputEl.checked = JSON.parse(localStorage.getItem("mode"));
      updateBody();

      function updateBody() {
        if (inputEl.checked) {
          const a = document.querySelectorAll("a");
          bodyEl.style.backgroundColor = "black";
          navbarEl.classList.add("on");
          contentEl.classList.add("on");
        } else {
          bodyEl.style.backgroundColor = "white";
          navbarEl.classList.remove("on");
          contentEl.classList.remove("on");
        }
      }
      // run function toggle
      inputEl.addEventListener("input", () => {
        updateBody();
        updateLocalStorage();
      });

      // local storage
      function updateLocalStorage() {
        localStorage.setItem("mode", JSON.stringify(inputEl.checked));
      }
    </script>
  </body>
</html>
